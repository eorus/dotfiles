# ==========================
# NeoMutt main configuration
# ==========================

# General Maildir setup
set folder = ~/Mail
set mbox_type = Maildir
set mask="!^[.]/"

# Cache
set header_cache = ~/.cache/neomutt/headers
set message_cachedir = ~/.cache/neomutt/bodies
set certificate_file = ~/.cache/neomutt/certificates

# Default mailbox (Gmail)
set spoolfile = +gmail/INBOX
set record = +gmail/sent
set postponed = +gmail/drafts
set trash = +gmail/trash

# Use msmtp for sending
set sendmail = "/usr/bin/msmtp"
set use_from = yes
set envelope_from = yes

# Sidebar settings
set sidebar_visible
set sidebar_width=25
set sidebar_short_path=yes
set sidebar_format = '%D%* %<N?%N/>%<S?%S>'
set index_format="%4C %Z %{%b %d} %-15.15F %?N?%N ?%s"

# Set account specific options on folder change
folder-hook gmail-folder/*        source ~/.config/neomutt/accounts/gmail.muttrc
folder-hook eorus-folder/*        source ~/.config/neomutt/accounts/eorus.muttrc

# Mailboxes
named-mailboxes "Gmail Inbox ========" "+gmail/INBOX"
mailboxes "+gmail/sent"
mailboxes "+gmail/archive"
mailboxes "+gmail/trash"
mailboxes "+gmail/spam"
mailboxes "+gmail/drafts"

named-mailboxes "Eorus Inbox =======" "+eorus/INBOX"
mailboxes "+eorus/sent"

##############################
# Gmail Old (read-only, offline)
##############################
named-mailboxes "Old Gmail Inbox =======" "+gmail-old/INBOX"
mailboxes "+gmail-old/sent"
mailboxes "+gmail-old/archive"

# Default account
source ~/.config/neomutt/accounts/gmail.muttrc

# Paths
set mailcap_path    =   "~/.config/neomutt/mailcap"
set tmpdir          =   "~/.local/share/email/temp"	# where to keep temp files
source $HOME/.config/neomutt/color.mutt
source $HOME/.config/neomutt/bindings
set signature = "$HOME/.config/neomutt/alperor.sig"
set my_name = "Alper Orus"

# General UI
set sort = threads
set sleep_time = 0
set sort_aux = reverse-last-date-received
set pager_index_lines = 10
set menu_scroll
set tilde
set quit
set confirmappend = no
#
# Default sending charset
set send_charset="utf-8"
set charset = "utf-8"

set editor="nvim  +':set textwidth=0' +':set wrapmargin=0' +':set wrap' \"+/^$/\" \"+nohl\" \"+ normal o\" \"+startinsert\"
set forward_format = "Fwd: %s"       # format of subject when forwarding
set forward_decode                   # decode when forwarding
set forward_quote                    # include message in forwards
set reverse_name                     # reply as whomever it was to
set include                          # include message in replies
set sort = threads                   # like gmail
set uncollapse_jump                  # don't collapse on an unread message
set sort_re                          # thread based on regex
set reply_regexp = "^(([Rr][Ee]?(\[[0-9]+\])?: *)?(\[[^]]+\] *)?)*"
set quote_regexp = "^( {0,4}[>|:#%]| {0,4}[a-z0-9]+[>|]+)+"
set edit_headers                     # show headers when composing
set fast_reply                       # skip to compose when replying
set askcc                            # ask for CC:
set fcc_attach                       # save attachments with the body
set attribution = "On %d, %n wrote:" # format of quoting header
set reply_to                         # reply to Reply to: field
set text_flowed
# Index View Options ---------------------------------
set date_format="%d-%m-%y %T"


# -*-muttrc-*-
set status_chars  = " *%A"
set status_format = "───[ Folder: %f ]───[%r%m messages%?n? (%n new)?%?d? (%d to delete)?%?t? (%t tagged)? ]───%>─%?p?( %p postponed )?───"
